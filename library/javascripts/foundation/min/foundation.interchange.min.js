!function(t,e,n){"use strict";Foundation.libs.interchange={name:"interchange",version:"4.3.3",cache:{},images_loaded:!1,settings:{load_attr:"interchange",named_queries:{"default":"only screen and (min-width: 1px)",small:"only screen and (min-width: 768px)",medium:"only screen and (min-width: 1280px)",large:"only screen and (min-width: 1440px)",landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(t,e){if(/IMG/.test(t[0].nodeName)){var n=t[0].src;if(new RegExp(e,"i").test(n))return;return t[0].src=e,t.trigger("replace",[t[0].src,n])}}}},init:function(e,n,i){return Foundation.inherit(this,"throttle"),"object"==typeof n&&t.extend(!0,this.settings,n),this.events(),this.images(),"string"!=typeof n?this.settings.init:this[n].call(this,i)},events:function(){var n=this;t(e).on("resize.fndtn.interchange",n.throttle(function(){n.resize.call(n)},50))},resize:function(){var e=this.cache;if(!this.images_loaded)return setTimeout(t.proxy(this.resize,this),50),void 0;for(var n in e)if(e.hasOwnProperty(n)){var i=this.results(n,e[n]);i&&this.settings.directives[i.scenario[1]](i.el,i.scenario[0])}},results:function(e,n){var i=n.length;if(i>0)for(var a=t('[data-uuid="'+e+'"]'),s=i-1;s>=0;s--){var o,r=n[s][2];if(o=this.settings.named_queries.hasOwnProperty(r)?matchMedia(this.settings.named_queries[r]):matchMedia(r),o.matches)return{el:a,scenario:n[s]}}return!1},images:function(t){return"undefined"==typeof this.cached_images||t?this.update_images():this.cached_images},update_images:function(){var t=n.getElementsByTagName("img"),e=t.length,i=0,a="data-"+this.settings.load_attr;this.cached_images=[],this.images_loaded=!1;for(var s=e-1;s>=0;s--){if(i++,t[s]){var o=t[s].getAttribute(a)||"";o.length>0&&this.cached_images.push(t[s])}i===e&&(this.images_loaded=!0,this.enhance())}return"deferred"},enhance:function(){for(var n=this.images().length,i=n-1;i>=0;i--)this.object(t(this.images()[i]));return t(e).trigger("resize")},parse_params:function(t,e,n){return[this.trim(t),this.convert_directive(e),this.trim(n)]},convert_directive:function(t){var e=this.trim(t);return e.length>0?e:"replace"},object:function(t){var e=this.parse_data_attr(t),n=[],i=e.length;if(i>0)for(var a=i-1;a>=0;a--){var s=e[a].split(/\((.*?)(\))$/);if(s.length>1){var o=s[0].split(","),r=this.parse_params(o[0],o[1],s[1]);n.push(r)}}return this.store(t,n)},uuid:function(t){function e(){return(0|65536*(1+Math.random())).toString(16).substring(1)}var n=t||"-";return e()+e()+n+e()+n+e()+n+e()+n+e()+e()+e()},store:function(t,e){var n=this.uuid(),i=t.data("uuid");return i?this.cache[i]:(t.attr("data-uuid",n),this.cache[n]=e)},trim:function(e){return"string"==typeof e?t.trim(e):e},parse_data_attr:function(t){for(var e=t.data(this.settings.load_attr).split(/\[(.*?)\]/),n=e.length,i=[],a=n-1;a>=0;a--)e[a].replace(/[\W\d]+/,"").length>4&&i.push(e[a]);return i},reflow:function(){this.images(!0)}}}(Foundation.zj,this,this.document);