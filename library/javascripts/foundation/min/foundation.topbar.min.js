!function(t,e,i){"use strict";Foundation.libs.topbar={name:"topbar",version:"4.3.2",settings:{index:0,stickyClass:"sticky",custom_back_text:!0,back_text:"Back",is_hover:!0,mobile_show_parent_link:!1,scrolltop:!0,init:!1},init:function(i,s,n){Foundation.inherit(this,"data_options addCustomRule");var a=this;return"object"==typeof s?t.extend(!0,this.settings,s):"undefined"!=typeof n&&t.extend(!0,this.settings,n),"string"!=typeof s?(t(".top-bar, [data-topbar]").each(function(){t.extend(!0,a.settings,a.data_options(t(this))),a.settings.$w=t(e),a.settings.$topbar=t(this),a.settings.$section=a.settings.$topbar.find("section"),a.settings.$titlebar=a.settings.$topbar.children("ul").first(),a.settings.$topbar.data("index",0);var i=a.settings.$topbar.parent();i.hasClass("fixed")||i.hasClass(a.settings.stickyClass)?(a.settings.$topbar.data("height",a.outerHeight(i)),a.settings.$topbar.data("stickyoffset",i.offset().top)):a.settings.$topbar.data("height",a.outerHeight(a.settings.$topbar));var s=t("<div class='top-bar-js-breakpoint'/>").insertAfter(a.settings.$topbar);a.settings.breakPoint=s.width(),s.remove(),a.assemble(),a.settings.is_hover&&a.settings.$topbar.find(".has-dropdown").addClass("not-click"),a.addCustomRule(".f-topbar-fixed { padding-top: "+a.settings.$topbar.data("height")+"px }"),a.settings.$topbar.parent().hasClass("fixed")&&t("body").addClass("f-topbar-fixed")}),a.settings.init||this.events(),this.settings.init):this[s].call(this,n)},toggle:function(){var i=this,s=t(".top-bar, [data-topbar]"),n=s.find("section, .section");i.breakpoint()&&(i.rtl?(n.css({right:"0%"}),n.find(">.name").css({right:"100%"})):(n.css({left:"0%"}),n.find(">.name").css({left:"100%"})),n.find("li.moved").removeClass("moved"),s.data("index",0),s.toggleClass("expanded").css("height","")),i.settings.scrolltop?s.hasClass("expanded")?s.parent().hasClass("fixed")&&(i.settings.scrolltop?(s.parent().removeClass("fixed"),s.addClass("fixed"),t("body").removeClass("f-topbar-fixed"),e.scrollTo(0,0)):s.parent().removeClass("expanded")):s.hasClass("fixed")&&(s.parent().addClass("fixed"),s.removeClass("fixed"),t("body").addClass("f-topbar-fixed")):(s.parent().hasClass(i.settings.stickyClass)&&s.parent().addClass("fixed"),s.parent().hasClass("fixed")&&(s.hasClass("expanded")?(s.addClass("fixed"),s.parent().addClass("expanded")):(s.removeClass("fixed"),s.parent().removeClass("expanded"),i.updateStickyPositioning())))},timer:null,events:function(){var s=this;t(this.scope).off(".fndtn.topbar").on("click.fndtn.topbar",".top-bar .toggle-topbar, [data-topbar] .toggle-topbar",function(t){t.preventDefault(),s.toggle()}).on("click.fndtn.topbar",".top-bar li.has-dropdown",function(e){var i=t(this),n=t(e.target),a=i.closest("[data-topbar], .top-bar");return a.data("topbar"),n.data("revealId")?(s.toggle(),void 0):(s.breakpoint()||(!s.settings.is_hover||Modernizr.touch)&&(e.stopImmediatePropagation(),"A"===n[0].nodeName&&n.parent().hasClass("has-dropdown")&&e.preventDefault(),i.hasClass("hover")?(i.removeClass("hover").find("li").removeClass("hover"),i.parents("li.hover").removeClass("hover")):i.addClass("hover")),void 0)}).on("click.fndtn.topbar",".top-bar .has-dropdown>a, [data-topbar] .has-dropdown>a",function(i){if(s.breakpoint()&&t(e).width()!=s.settings.breakPoint){i.preventDefault();var n=t(this),a=n.closest(".top-bar, [data-topbar]"),o=a.find("section, .section"),r=(n.next(".dropdown").outerHeight(),n.closest("li"));a.data("index",a.data("index")+1),r.addClass("moved"),s.rtl?(o.css({right:-(100*a.data("index"))+"%"}),o.find(">.name").css({right:100*a.data("index")+"%"})):(o.css({left:-(100*a.data("index"))+"%"}),o.find(">.name").css({left:100*a.data("index")+"%"})),a.css("height",s.outerHeight(n.siblings("ul"),!0)+s.settings.$topbar.data("height"))}}),t(e).on("resize.fndtn.topbar",function(){if("undefined"!=typeof s.settings.$topbar){var e,n=s.settings.$topbar.parent("."+this.settings.stickyClass);if(!s.breakpoint()){var a=s.settings.$topbar.hasClass("expanded");t(".top-bar, [data-topbar]").css("height","").removeClass("expanded").find("li").removeClass("hover"),a&&s.toggle()}n.length>0&&(n.hasClass("fixed")?(n.removeClass("fixed"),e=n.offset().top,t(i.body).hasClass("f-topbar-fixed")&&(e-=s.settings.$topbar.data("height")),s.settings.$topbar.data("stickyoffset",e),n.addClass("fixed")):(e=n.offset().top,s.settings.$topbar.data("stickyoffset",e)))}}.bind(this)),t("body").on("click.fndtn.topbar",function(e){var i=t(e.target).closest("li").closest("li.hover");i.length>0||t(".top-bar li, [data-topbar] li").removeClass("hover")}),t(this.scope).on("click.fndtn",".top-bar .has-dropdown .back, [data-topbar] .has-dropdown .back",function(e){e.preventDefault();var i=t(this),n=i.closest(".top-bar, [data-topbar]"),a=n.find("section, .section"),o=i.closest("li.moved"),r=o.parent();n.data("index",n.data("index")-1),s.rtl?(a.css({right:-(100*n.data("index"))+"%"}),a.find(">.name").css({right:100*n.data("index")+"%"})):(a.css({left:-(100*n.data("index"))+"%"}),a.find(">.name").css({left:100*n.data("index")+"%"})),0===n.data("index")?n.css("height",""):n.css("height",s.outerHeight(r,!0)+s.settings.$topbar.data("height")),setTimeout(function(){o.removeClass("moved")},300)})},breakpoint:function(){return t(i).width()<=this.settings.breakPoint||t("html").hasClass("lt-ie9")},assemble:function(){var e=this;this.settings.$section.detach(),this.settings.$section.find(".has-dropdown>a").each(function(){var i=t(this),s=i.siblings(".dropdown"),n=i.attr("href");if(e.settings.mobile_show_parent_link&&n&&n.length>1)var a=t('<li class="title back js-generated"><h5><a href="#"></a></h5></li><li><a class="parent-link js-generated" href="'+n+'">'+i.text()+"</a></li>");else var a=t('<li class="title back js-generated"><h5><a href="#"></a></h5></li>');1==e.settings.custom_back_text?a.find("h5>a").html(e.settings.back_text):a.find("h5>a").html("&laquo; "+i.html()),s.prepend(a)}),this.settings.$section.appendTo(this.settings.$topbar),this.sticky()},height:function(e){var i=0,s=this;return e.find("> li").each(function(){i+=s.outerHeight(t(this),!0)}),i},sticky:function(){var i=t(e),s=this;i.scroll(function(){s.updateStickyPositioning()})},updateStickyPositioning:function(){var i="."+this.settings.stickyClass,s=t(e);if(t(i).length>0){var n=this.settings.$topbar.data("stickyoffset");t(i).hasClass("expanded")||(s.scrollTop()>n?t(i).hasClass("fixed")||(t(i).addClass("fixed"),t("body").addClass("f-topbar-fixed")):s.scrollTop()<=n&&t(i).hasClass("fixed")&&(t(i).removeClass("fixed"),t("body").removeClass("f-topbar-fixed")))}},off:function(){t(this.scope).off(".fndtn.topbar"),t(e).off(".fndtn.topbar")},reflow:function(){}}}(Foundation.zj,this,this.document);